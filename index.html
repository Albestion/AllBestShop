–û–∫–µ–π, —Ç—Ä–∏–º–∞–π üí™ ‚Äî —Ä–æ–±–∏–º–æ –ø–æ–≤–Ω—ñ—Å—Ç—é –∞–ø–≥—Ä–µ–π–¥–∂–µ–Ω—É –≤–µ—Ä—Å—ñ—é, –¥–µ:

–°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø–æ –∫–ª—ñ–∫—É –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∏

–°—Ç—Ä—ñ–ª–∫–∏ ‚ñ≤‚ñº –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –∑–∞–≤–∂–¥–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

–í–∏–¥–∞–ª–µ–Ω–Ω—è —Ä—è–¥–∫—ñ–≤ –ø—Ä–∞—Ü—é—î

–î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è

–ü—ñ–¥—Å—É–º–∫–æ–≤–∞ —Å—É–º–∞ –≤–∏–¥—ñ–ª–µ–Ω–∞ –∂–∏—Ä–Ω–∏–º

–ì–∞—Ä–Ω–∏–π —Å—Ç–∏–ª—å, –∫–æ–ª—å–æ—Ä–æ–≤—ñ –∫–Ω–æ–ø–∫–∏

–í—Å–µ –ø—Ä–∞—Ü—é—î —è–∫ —Å–ø—Ä–∞–≤–∂–Ω—è –º—ñ–Ω—ñ-—Å–∏—Å—Ç–µ–º–∞.

<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>–û–±–ª—ñ–∫ –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ü—ñ—ó</title>
<style>
body {
    font-family: Arial, sans-serif;
    background: #f4f6f9;
    padding: 30px;
}
h2 { text-align: center; }
.container {
    max-width: 900px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 12px rgba(0,0,0,0.15);
}
input { padding: 8px; margin: 5px; width: 150px; }
button { padding: 8px 12px; cursor: pointer; border: none; border-radius: 4px; color: white; }
#addBtn { background-color: #2c3e50; }
.deleteBtn { background-color: #e74c3c; }
table { width: 100%; border-collapse: collapse; margin-top: 15px; }
th, td { border: 1px solid #ddd; padding: 8px; text-align: center; }
th { background: #2c3e50; color: white; cursor: pointer; position: relative; }
tr:nth-child(even) { background: #f9f9f9; }
.total { margin-top: 15px; font-weight: bold; font-size: 1.2em; }
th span.arrow { position: absolute; right: 8px; }
</style>
</head>
<body>

<div class="container">
<h2>–û–±–ª—ñ–∫ –≤–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–æ—ó –ø—Ä–æ–¥—É–∫—Ü—ñ—ó –ø—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤–∞</h2>

<input type="text" id="name" placeholder="–ù–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ü—ñ—ó">
<input type="number" id="quantity" placeholder="–ö—ñ–ª—å–∫—ñ—Å—Ç—å">
<input type="number" id="price" placeholder="–¶—ñ–Ω–∞ –∑–∞ –æ–¥–∏–Ω–∏—Ü—é">
<button id="addBtn" onclick="addProduct()">–î–æ–¥–∞—Ç–∏</button>

<table>
<thead>
<tr>
<th onclick="sortTable('name')">–ù–∞–∑–≤–∞ <span class="arrow"></span></th>
<th onclick="sortTable('quantity')">–ö—ñ–ª—å–∫—ñ—Å—Ç—å <span class="arrow"></span></th>
<th onclick="sortTable('price')">–¶—ñ–Ω–∞ <span class="arrow"></span></th>
<th onclick="sortTable('sum')">–°—É–º–∞ <span class="arrow"></span></th>
<th>–î—ñ—è</th>
</tr>
</thead>
<tbody id="tableBody"></tbody>
</table>

<div class="total">
–ó–∞–≥–∞–ª—å–Ω–∞ —Å—É–º–∞: <span id="total">0</span> –≥—Ä–Ω
</div>
</div>

<script>
let products = JSON.parse(localStorage.getItem("products")) || [];
let sortColumn = null;
let sortAsc = true;

function saveData() {
    localStorage.setItem("products", JSON.stringify(products));
}

function renderTable() {
    let tableBody = document.getElementById("tableBody");
    tableBody.innerHTML = "";
    let totalSum = 0;

    products.forEach((product, index) => {
        let sum = product.quantity * product.price;
        totalSum += sum;
        tableBody.innerHTML += `
        <tr>
            <td>${product.name}</td>
            <td>${product.quantity}</td>
            <td>${product.price}</td>
            <td>${sum}</td>
            <td><button class="deleteBtn" onclick="deleteProduct(${index})">–í–∏–¥–∞–ª–∏—Ç–∏</button></td>
        </tr>
        `;
    });

    document.getElementById("total").innerText = totalSum;
    updateArrows();
}

function addProduct() {
    let name = document.getElementById("name").value.trim();
    let quantity = parseFloat(document.getElementById("quantity").value);
    let price = parseFloat(document.getElementById("price").value);

    if (!name || quantity <= 0 || price <= 0) {
        alert("–ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–∞ —Ü—ñ–Ω–∞ –º–∞—é—Ç—å –±—É—Ç–∏ > 0.");
        return;
    }

    products.push({ name, quantity, price });
    saveData();
    renderTable();

    document.getElementById("name").value = "";
    document.getElementById("quantity").value = "";
    document.getElementById("price").value = "";
}

function deleteProduct(index) {
    if (confirm("–í–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π —Ç–æ–≤–∞—Ä?")) {
        products.splice(index, 1);
        saveData();
        renderTable();
    }
}

function sortTable(column) {
    if (sortColumn === column) sortAsc = !sortAsc;
    else { sortColumn = column; sortAsc = true; }

    products.sort((a, b) => {
        let valA, valB;
        if (column === 'sum') {
            valA = a.quantity * a.price;
            valB = b.quantity * b.price;
        } else {
            valA = a[column];
            valB = b[column];
        }

        if (typeof valA === 'string') {
            valA = valA.toLowerCase();
            valB = valB.toLowerCase();
        }

        if (valA > valB) return sortAsc ? 1 : -1;
        if (valA < valB) return sortAsc ? -1 : 1;
        return 0;
    });

    sortColumn = column;
    renderTable();
}

function updateArrows() {
    document.querySelectorAll('th span.arrow').forEach(span => span.innerText = '');
    if (!sortColumn) return;
    const ths = document.querySelectorAll('th');
    ths.forEach(th => {
        if (th.innerText.toLowerCase().includes(sortColumn)) {
            th.querySelector('span.arrow').innerText = sortAsc ? '‚ñ≤' : '‚ñº';
        }
    });
}

renderTable();
</script>

</body>
</html>
