<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<title>Вхід</title>
<link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container">
<h2>Вхід або реєстрація</h2>
<input type="text" id="loginUsername" placeholder="Логін">
<input type="password" id="loginPassword" placeholder="Пароль">
<button id="loginBtn">Увійти</button>
<button id="registerBtn">Зареєструватися</button>
<p id="loginError" style="color:red;"></p>
</div>

<script src="js/script.js"></script>
<script>
document.getElementById("loginBtn").onclick=loginIndex;
document.getElementById("registerBtn").onclick=registerIndex;

function loginIndex(){
    const u=document.getElementById("loginUsername").value.trim();
    const p=document.getElementById("loginPassword").value.trim();
    const f=users.find(user=>user.username===u && user.password===p);
    if(f){ 
        localStorage.setItem("currentUser", u); 
        window.location="products.html"; 
    }
    else document.getElementById("loginError").innerText="Невірний логін або пароль";
}

function registerIndex(){
    const u=document.getElementById("loginUsername").value.trim();
    const p=document.getElementById("loginPassword").value.trim();
    if(!u||!p){ document.getElementById("loginError").innerText="Заповніть логін і пароль"; return; }
    if(users.find(user=>user.username===u)){ document.getElementById("loginError").innerText="Користувач вже існує"; return; }
    users.push({username:u,password:p});
    saveUsers();
    document.getElementById("loginError").innerText="Користувач створений, увійдіть";
}
</script>
</body>
</html>
